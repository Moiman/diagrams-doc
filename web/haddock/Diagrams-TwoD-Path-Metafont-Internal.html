<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.TwoD.Path.Metafont.Internal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-TwoD-Path-Metafont-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-TwoD-Path-Metafont-Internal.html">Source</a></li><li><a href="http://www.haskell.org/haskellwiki/Diagrams/Comments/Diagrams.TwoD.Path.Metafont.Internal">User Comments</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-contrib-1.0: Collection of user contributions to diagrams EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Maintainer</th><td>bergey@alum.mit.edu</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Diagrams.TwoD.Path.Metafont.Internal</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Solve equations due to John Hobby, as implemented in Donald Knuth's
 <em>Metafont</em>, to create (usually) smooth paths from specified points
 and directions.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:solve">solve</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFP">MFP</a> -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPath">MFPath</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:Dir">Dir</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:BasicJoin">BasicJoin</a></li><li class="src short"><a href="#v:computeControls">computeControls</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MetafontSegment">MetafontSegment</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:Dir">Dir</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Either.html#t:Either">Either</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:TensionJoin">TensionJoin</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a>) -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MetafontSegment">MetafontSegment</a> () <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a></li><li class="src short"><a href="#v:locatedTrail">locatedTrail</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPath">MFPath</a> () <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a> -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</li><li class="src short"><a href="#v:mfPathToSegments">mfPathToSegments</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPathData">MFPathData</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:P">P</a> -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFP">MFP</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:solve" class="def">solve</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFP">MFP</a> -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPath">MFPath</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:Dir">Dir</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:BasicJoin">BasicJoin</a><a href="src/Diagrams-TwoD-Path-Metafont-Internal.html#solve" class="link">Source</a></p><div class="doc"><p>Run all the rules required to fully specify all segment directions,
 but do not replace the Joins with ControlJoin.
</p></div></div><div class="top"><p class="src"><a name="v:computeControls" class="def">computeControls</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MetafontSegment">MetafontSegment</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:Dir">Dir</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Either.html#t:Either">Either</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:TensionJoin">TensionJoin</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a>) -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MetafontSegment">MetafontSegment</a> () <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a><a href="src/Diagrams-TwoD-Path-Metafont-Internal.html#computeControls" class="link">Source</a></p><div class="doc"><p>Take a segment whose endpoint directions have been fully
   determined, and compute the control points to realize it as a
   cubic B&#233;zier segment.  If the segment already has control points
   specified, the directions are ignored (they are assumed to
   match).  If the segment tensions are specified as TensionAtLeast,
   check whether the minimum tension will lead to an inflection
   point.  If so, pick the maximum velocity (equivalent to minimum
   tension) that avoids the inflection point.  Otherwise, calculate
   the velocity from the tension using <code>hobbyF</code>.  Then calculate the
   control point positions from the direction and the velocity.
   Afterwards we can forget the direction information (since the
   control points are what we really want, and the directions can be
   recovered by subtracting the control points from the endpoints
   anyway).
</p></div></div><div class="top"><p class="src"><a name="v:locatedTrail" class="def">locatedTrail</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPath">MFPath</a> () <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:ControlJoin">ControlJoin</a> -&gt; <a href="Diagrams-Located.html#t:Located">Located</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)<a href="src/Diagrams-TwoD-Path-Metafont-Internal.html#locatedTrail" class="link">Source</a></p><div class="doc"><p>Convert a MetaFont path to a Diagrams Trail, using a Loop or Line as needed
</p></div></div><div class="top"><p class="src"><a name="v:mfPathToSegments" class="def">mfPathToSegments</a> :: <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFPathData">MFPathData</a> <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:P">P</a> -&gt; <a href="Diagrams-TwoD-Path-Metafont-Types.html#t:MFP">MFP</a><a href="src/Diagrams-TwoD-Path-Metafont-Internal.html#mfPathToSegments" class="link">Source</a></p><div class="doc"><p>Convert a path in combinator syntax to the internal
 representation used for solving.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2.1</p></div></body></html>