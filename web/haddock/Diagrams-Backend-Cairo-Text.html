<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Backend.Cairo.Text</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Backend-Cairo-Text.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-Backend-Cairo-Text.html">Source</a></li><li><a href="http://www.haskell.org/haskellwiki/Diagrams/Comments/Diagrams.Backend.Cairo.Text">User Comments</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-cairo-1.2: Cairo backend for diagrams drawing EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011 Diagrams-cairo team (see LICENSE)</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.Backend.Cairo.Text</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Primitives</a><ul><li><a href="#g:2">Unsafe</a></li></ul></li><li><a href="#g:3">Extents</a><ul><li><a href="#g:4">Data Structures</a></li><li><a href="#g:5">Queries</a></li></ul></li><li><a href="#g:6">Utilities</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides convenience functions for querying information
 from cairo.  In particular, this provides utilities for information
 about fonts, and creating text primitives with bounds based on the
 font being used. To render text with automatically determined
 envelopes, use <code><a href="Diagrams-Backend-Cairo-Text.html#v:textLineBounded">textLineBounded</a></code>, <code><a href="Diagrams-Backend-Cairo-Text.html#v:textLineBoundedIO">textLineBoundedIO</a></code>,
 <code><a href="Diagrams-Backend-Cairo-Text.html#v:textVisualBounded">textVisualBounded</a></code>, or <code><a href="Diagrams-Backend-Cairo-Text.html#v:textVisualBoundedIO">textVisualBoundedIO</a></code>.</p><p>Many of these functions take a <code><a href="Diagrams-Core-Style.html#t:Style">Style</a></code> <code><a href="Diagrams-TwoD-Types.html#t:R2">R2</a></code> parameter, determining the
 style to apply to the text before rendering / querying information about
 the text.  These <code><a href="Diagrams-Core-Style.html#t:Style">Style</a></code> <code><a href="Diagrams-TwoD-Types.html#t:R2">R2</a></code> parameters can be created a variety of ways,
 but the most direct will likely be by applying style-transforming functions
 such as <code><a href="Diagrams-TwoD-Text.html#v:font">font</a></code>, <code><a href="Diagrams-TwoD-Text.html#v:fontSize">fontSize</a></code>, <code>fontSlant</code>, and <code>fontWeight</code> to <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Monoid.html#v:mempty">mempty</a></code>.
 This works because there are instances of <code><a href="Diagrams-Core-Style.html#t:HasStyle">HasStyle</a></code> and <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a></code> for
 <code><code><a href="Diagrams-Core-Style.html#t:Style">Style</a></code> v</code>.</p><p>NOTE that this module has a couple significant caveats:</p><ul><li>There are some known bugs
   (<a href="https://github.com/diagrams/diagrams-cairo/issues/19">https://github.com/diagrams/diagrams-cairo/issues/19</a>) which
   are not easily fixable (they are probably bugs in cairo itself,
   but since we are using the &quot;toy text API&quot; they will never be
   fixed).</li><li>The functions in this module will only
   work with text whose font size is measured in <code>Local</code> units.</li></ul><p>This module should thus be considered experimental/unsupported; if
 it works for you, great, but if not you are probably out of luck.
 See the <code>SVGFonts</code> package for better-supported ways to accomplish
 similar things.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:textLineBoundedIO">textLineBoundedIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</li><li class="src short"><a href="#v:textVisualBoundedIO">textVisualBoundedIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</li><li class="src short"><a href="#v:kerningCorrection">kerningCorrection</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:textLineBounded">textLineBounded</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:textVisualBounded">textVisualBounded</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TextExtents">TextExtents</a> = <a href="#v:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:bearing">bearing</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:textSize">textSize</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:advance">advance</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FontExtents">FontExtents</a> = <a href="#v:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:ascent">ascent</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:descent">descent</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:height">height</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:maxAdvance">maxAdvance</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></li><li class="src short"><a href="#v:getTextExtents">getTextExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a></li><li class="src short"><a href="#v:getFontExtents">getFontExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a></li><li class="src short"><a href="#v:getExtents">getExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> (<a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a>, <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a>)</li><li class="src short"><a href="#v:kerningCorrectionIO">kerningCorrectionIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:queryCairo">queryCairo</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:unsafeCairo">unsafeCairo</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; a</li><li class="src short"><a href="#v:cairoWithStyle">cairoWithStyle</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a</li></ul></div><div id="interface"><h1 id="g:1">Primitives</h1><div class="doc"><p>These create diagrams instantiated with extent-based envelopes.</p></div><div class="top"><p class="src"><a name="v:textLineBoundedIO" class="def">textLineBoundedIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>) <a href="src/Diagrams-Backend-Cairo-Text.html#line-158" class="link">Source</a></p><div class="doc"><p>Creates text diagrams with their envelopes set such that using
   <code><code><a href="Diagrams-TwoD-Combinators.html#v:vcat">vcat</a></code> . map (<code><a href="Diagrams-Backend-Cairo-Text.html#v:textLineBounded">textLineBounded</a></code> style)</code> stacks them in the way that
   the font designer intended.</p></div></div><div class="top"><p class="src"><a name="v:textVisualBoundedIO" class="def">textVisualBoundedIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> (<a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>) <a href="src/Diagrams-Backend-Cairo-Text.html#line-167" class="link">Source</a></p><div class="doc"><p>Creates a text diagram with its envelope set to enclose the glyphs of the text,
   including leading (though not trailing) whitespace.</p></div></div><h2 id="g:2">Unsafe</h2><div class="doc"><p>These are convenient unsafe variants of the above operations
   using <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO-Unsafe.html#v:unsafePerformIO">unsafePerformIO</a></code>. In practice, they should be fairly
   safe as the results depend only on the parameters and the
   font information (which ought to stay the same during a given
   execution).</p></div><div class="top"><p class="src"><a name="v:kerningCorrection" class="def">kerningCorrection</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-179" class="link">Source</a></p><div class="doc"><p>Queries the amount of horizontal offset that needs to be applied
   in order to position the second character properly, in the event
   that it is <code><a href="Diagrams-TwoD-Combinators.html#v:hcat">hcat</a></code>-ed <code><a href="Diagrams-TwoD-Text.html#v:baselineText">baselineText</a></code>.  See <code><a href="Diagrams-Backend-Cairo-Text.html#v:kerningCorrectionIO">kerningCorrectionIO</a></code>;
   this variant uses <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO-Unsafe.html#v:unsafePerformIO">unsafePerformIO</a></code> but should be fairly safe in
   practice.</p></div></div><div class="top"><p class="src"><a name="v:textLineBounded" class="def">textLineBounded</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-187" class="link">Source</a></p><div class="doc"><p>Creates text diagrams with their envelopes set such that using
   <code><code><a href="Diagrams-TwoD-Combinators.html#v:vcat">vcat</a></code> . map (<code><a href="Diagrams-Backend-Cairo-Text.html#v:textLineBounded">textLineBounded</a></code> style)</code> stacks them in the way
   that the font designer intended. See <code><a href="Diagrams-Backend-Cairo-Text.html#v:textLineBoundedIO">textLineBoundedIO</a></code>; this
   variant uses <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO-Unsafe.html#v:unsafePerformIO">unsafePerformIO</a></code> but should be fairly safe in
   practice.</p></div></div><div class="top"><p class="src"><a name="v:textVisualBounded" class="def">textVisualBounded</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a> <a href="Diagrams-Backend-Cairo-Internal.html#t:Cairo">Cairo</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-194" class="link">Source</a></p><div class="doc"><p>Creates a text diagram with its envelope set to enclose the
   glyphs of the text, including leading (though not trailing)
   whitespace. See <code><a href="Diagrams-Backend-Cairo-Text.html#v:textVisualBoundedIO">textVisualBoundedIO</a></code>; this variant uses
   <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO-Unsafe.html#v:unsafePerformIO">unsafePerformIO</a></code> but should be fairly safe in practice.</p></div></div><h1 id="g:3">Extents</h1><h2 id="g:4">Data Structures</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:TextExtents" class="def">TextExtents</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-103" class="link">Source</a></p><div class="doc"><p>A more convenient data structure for the results of a text-extents query.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:TextExtents" class="def">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:bearing" class="def">bearing</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-106" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:textSize" class="def">textSize</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-106" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:advance" class="def">advance</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-106" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FontExtents" class="def">FontExtents</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-118" class="link">Source</a></p><div class="doc"><p>A more convenient data structure for the results of a font-extents query.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FontExtents" class="def">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:ascent" class="def">ascent</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-123" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:descent" class="def">descent</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-123" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:height" class="def">height</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-123" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:maxAdvance" class="def">maxAdvance</a> :: <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/lens-4.2/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-123" class="link">Source</a></p></div><h2 id="g:5">Queries</h2><div class="top"><p class="src"><a name="v:getTextExtents" class="def">getTextExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-113" class="link">Source</a></p><div class="doc"><p>Get the extents of a string of text, given a style to render it with.</p></div></div><div class="top"><p class="src"><a name="v:getFontExtents" class="def">getFontExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> <a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-130" class="link">Source</a></p><div class="doc"><p>Gets the intrinsic extents of a font.</p></div></div><div class="top"><p class="src"><a name="v:getExtents" class="def">getExtents</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> (<a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a>, <a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a>) <a href="src/Diagrams-Backend-Cairo-Text.html#line-137" class="link">Source</a></p><div class="doc"><p>Gets both the <code><a href="Diagrams-Backend-Cairo-Text.html#t:FontExtents">FontExtents</a></code> and <code><a href="Diagrams-Backend-Cairo-Text.html#t:TextExtents">TextExtents</a></code> of the string with the a
   particular style applied.  This is more efficient than calling both
   <code><a href="Diagrams-Backend-Cairo-Text.html#v:getFontExtents">getFontExtents</a></code> and <code><a href="Diagrams-Backend-Cairo-Text.html#v:getTextExtents">getTextExtents</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:kerningCorrectionIO" class="def">kerningCorrectionIO</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Char.html#t:Char">Char</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-Backend-Cairo-Text.html#line-147" class="link">Source</a></p><div class="doc"><p>Queries the amount of horizontal offset that needs to be applied in order to
   position the second character properly, in the event that it is <code><a href="Diagrams-TwoD-Combinators.html#v:hcat">hcat</a></code>-ed
   <code><a href="Diagrams-TwoD-Text.html#v:baselineText">baselineText</a></code>.</p></div></div><h1 id="g:6">Utilities</h1><div class="top"><p class="src"><a name="v:queryCairo" class="def">queryCairo</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO.html#t:IO">IO</a> a <a href="src/Diagrams-Backend-Cairo-Text.html#line-86" class="link">Source</a></p><div class="doc"><p>Executes a cairo action on a dummy, zero-size image surface, in order to
   query things like font information.</p></div></div><div class="top"><p class="src"><a name="v:unsafeCairo" class="def">unsafeCairo</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; a <a href="src/Diagrams-Backend-Cairo-Text.html#line-90" class="link">Source</a></p><div class="doc"><p>Unsafely invokes <code><a href="Diagrams-Backend-Cairo-Text.html#v:queryCairo">queryCairo</a></code> using <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/System-IO-Unsafe.html#v:unsafePerformIO">unsafePerformIO</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:cairoWithStyle" class="def">cairoWithStyle</a> ::  <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a -&gt; <a href="Diagrams-Core-Style.html#t:Style">Style</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a> -&gt; <a href="file:///home/brent/src/diagrams/haddocks-tmp/.hsenv_haddocks/cabal/share/doc/x86_64-linux-ghc-7.8.2/cairo-0.12.5.3/html/Graphics-Rendering-Cairo.html#t:Render">Render</a> a <a href="src/Diagrams-Backend-Cairo-Text.html#line-94" class="link">Source</a></p><div class="doc"><p>Executes the given cairo action, with styling applied.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>