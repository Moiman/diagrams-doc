<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Trace</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Trace.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-Trace.html">Source</a></li><li><a href="http://www.haskell.org/haskellwiki/Diagrams/Comments/Diagrams.Trace">User Comments</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-lib-0.7: Embedded domain-specific language for declarative graphics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Diagrams.Trace</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types
</a></li><li><a href="#g:2">Diagram traces
</a></li><li><a href="#g:3">Querying traces
</a></li><li><a href="#g:4">Subdiagram traces
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>&quot;Traces&quot;, aka embedded raytracers, for finding points on the edge
 of a diagram.  See <a href="Diagrams-Core-Trace.html">Diagrams.Core.Trace</a> for internal
 implementation details.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Trace">Trace</a> v</li><li class="src short"><span class="keyword">class</span> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)) =&gt; <a href="#t:Traced">Traced</a> a </li><li class="src short"><a href="#v:trace">trace</a> :: (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v, <a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m -&gt; <a href="Diagrams-Trace.html#t:Trace">Trace</a> v</li><li class="src short"><a href="#v:setTrace">setTrace</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:InnerSpace">InnerSpace</a> v, <a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/semigroups/0.9.2/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Trace.html#t:Trace">Trace</a> v -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m</li><li class="src short"><a href="#v:withTrace">withTrace</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a), <a href="Diagrams-Trace.html#t:Traced">Traced</a> a, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:InnerSpace">InnerSpace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a), <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> a) m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> a) m</li><li class="src short"><a href="#v:traceV">traceV</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)</li><li class="src short"><a href="#v:traceP">traceP</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a))</li><li class="src short"><a href="#v:maxTraceV">maxTraceV</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)</li><li class="src short"><a href="#v:maxTraceP">maxTraceP</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a))</li><li class="src short"><a href="#v:boundaryFrom">boundaryFrom</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v)) =&gt; <a href="Diagrams-Names.html#t:Subdiagram">Subdiagram</a> b v m -&gt; v -&gt; <a href="Diagrams-Points.html#t:Point">Point</a> v</li><li class="src short"><a href="#v:boundaryFromMay">boundaryFromMay</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v)) =&gt; <a href="Diagrams-Names.html#t:Subdiagram">Subdiagram</a> b v m -&gt; v -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> v)</li></ul></div><div id="interface"><h1 id="g:1">Types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Trace" class="def">Trace</a> v </p><div class="doc"><p>Every diagram comes equipped with a <em>trace</em>.  Intuitively, the
   trace for a diagram is like a raytracer: given a line
   (represented as a base point and a direction), the trace computes
   the distance from the base point along the line to the first
   intersection with the diagram.  The distance can be negative if
   the intersection is in the opposite direction from the base
   point, or infinite if the ray never intersects the diagram.
   Note: to obtain the distance to the <em>furthest</em> intersection
   instead of the <em>closest</em>, just negate the direction vector and
   then negate the result.
</p><p>Note that the output should actually be interpreted not as an
   absolute distance, but as a multiplier relative to the input
   vector.  That is, if the input vector is <code>v</code> and the returned
   scalar is <code>s</code>, the distance from the base point to the
   intersection is given by <code>s * magnitude v</code>.
</p></div><div class="subs instances"><p id="control.i:Trace" class="caption collapser" onclick="toggleSection('i:Trace')">Instances</p><div id="section.i:Trace" class="show"><table><tr><td class="src"><a href="Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Names.html#t:Name">Name</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v) =&gt; <a href="http://hackage.haskell.org/packages/archive/semigroups/0.9.2/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v =&gt; <a href="Diagrams-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v =&gt; <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/newtype/0.2/doc/html/Control-Newtype.html#t:Newtype">Newtype</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m) (<a href="Data-Tree-DUAL-Internal.html#t:DUALTree">DUALTree</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v) (<a href="Diagrams-Core-Types.html#t:UpAnnots">UpAnnots</a> b v m) () (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)) =&gt; <a name="t:Traced" class="def">Traced</a> a </p><div class="doc"><p><code>Traced</code> abstracts over things which have a trace.
</p></div><div class="subs instances"><p id="control.i:Traced" class="caption collapser" onclick="toggleSection('i:Traced')">Instances</p><div id="section.i:Traced" class="show"><table><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> b =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> [b]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> b =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.0.0/doc/html/Data-Set.html#t:Set">Set</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Trace.html#t:Trace">Trace</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> t =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Core-Transform.html#t:TransInv">TransInv</a> t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Points.html#t:Point">Point</a> v)</td><td class="doc"><p>The trace of a single point is the empty trace, <em>i.e.</em> the one
   which returns positive infinity for every query.  Arguably it
   should return a finite distance for vectors aimed directly at the
   given point and infinity for everything else, but due to
   floating-point inaccuracy this is problematic.  Note that the
   envelope for a single point is <em>not</em> the empty envelope (see
   <a href="Diagrams-Core-Envelope.html">Diagrams.Core.Envelope</a>).
</p></td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Located.html#t:Located">Located</a> a)</td><td class="doc"><p>The trace of a <code>Located a</code> is the trace of the <code>a</code>,
   translated to the location.
</p></td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Segment.html#t:FixedSegment">FixedSegment</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Trail.html#t:Trail">Trail</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Path.html#t:Path">Path</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Diagrams-Trace.html#t:Traced">Traced</a> a, <a href="Diagrams-Trace.html#t:Traced">Traced</a> b, ~ * (<a href="Diagrams-Core-V.html#t:V">V</a> a) (<a href="Diagrams-Core-V.html#t:V">V</a> b)) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> b =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.0.0/doc/html/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Segment.html#t:Segment">Segment</a> <a href="Diagrams-Segment.html#t:Closed">Closed</a> <a href="Diagrams-TwoD-Types.html#t:R2">R2</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v)) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v, <a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v) =&gt; <a href="Diagrams-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Names.html#t:Subdiagram">Subdiagram</a> b v m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Diagram traces
</h1><div class="top"><p class="src"><a name="v:trace" class="def">trace</a> :: (<a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:VectorSpace">VectorSpace</a> v, <a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m -&gt; <a href="Diagrams-Trace.html#t:Trace">Trace</a> v</p><div class="doc"><p>Get the trace of a diagram.
</p></div></div><div class="top"><p class="src"><a name="v:setTrace" class="def">setTrace</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:InnerSpace">InnerSpace</a> v, <a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/semigroups/0.9.2/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Trace.html#t:Trace">Trace</a> v -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v m</p><div class="doc"><p>Replace the trace of a diagram.
</p></div></div><div class="top"><p class="src"><a name="v:withTrace" class="def">withTrace</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a), <a href="Diagrams-Trace.html#t:Traced">Traced</a> a, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)), <a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:InnerSpace">InnerSpace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a), <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> a) m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> a) m<a href="src/Diagrams-Combinators.html#withTrace" class="link">Source</a></p><div class="doc"><p>Use the trace from some object as the trace for a diagram, in
   place of the diagram's default trace.
</p></div></div><h1 id="g:3">Querying traces
</h1><div class="top"><p class="src"><a name="v:traceV" class="def">traceV</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)</p><div class="doc"><p>Compute the vector from the given point to the boundary of the
   given object in the given direction, or <code>Nothing</code> if there is no
   intersection.
</p></div></div><div class="top"><p class="src"><a name="v:traceP" class="def">traceP</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a))</p><div class="doc"><p>Given a base point and direction, compute the closest point on
   the boundary of the given object, or <code>Nothing</code> if there is no
   intersection in the given direction.
</p></div></div><div class="top"><p class="src"><a name="v:maxTraceV" class="def">maxTraceV</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a)</p><div class="doc"><p>Like <code><a href="Diagrams-Trace.html#v:traceV">traceV</a></code>, but computes a vector to the *furthest* point on
   the boundary instead of the closest.
</p></div></div><div class="top"><p class="src"><a name="v:maxTraceP" class="def">maxTraceP</a> :: <a href="Diagrams-Trace.html#t:Traced">Traced</a> a =&gt; <a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a) -&gt; <a href="Diagrams-Core-V.html#t:V">V</a> a -&gt; a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> a))</p><div class="doc"><p>Like <code><a href="Diagrams-Trace.html#v:traceP">traceP</a></code>, but computes the *furthest* point on the boundary
   instead of the closest.
</p></div></div><h1 id="g:4">Subdiagram traces
</h1><div class="top"><p class="src"><a name="v:boundaryFrom" class="def">boundaryFrom</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v)) =&gt; <a href="Diagrams-Names.html#t:Subdiagram">Subdiagram</a> b v m -&gt; v -&gt; <a href="Diagrams-Points.html#t:Point">Point</a> v<a href="src/Diagrams-Trace.html#boundaryFrom" class="link">Source</a></p><div class="doc"><p>Compute the furthest point on the boundary of a subdiagram,
   beginning from the location (local origin) of the subdiagram and
   moving in the direction of the given vector.  If there is no such
   point, the origin is returned; see also <code><a href="Diagrams-Trace.html#v:boundaryFromMay">boundaryFromMay</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:boundaryFromMay" class="def">boundaryFromMay</a> :: (<a href="Diagrams-Core-Transform.html#t:HasLinearMap">HasLinearMap</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="http://hackage.haskell.org/packages/archive/vector-space/0.8.6/doc/html/Data-VectorSpace.html#t:Scalar">Scalar</a> v)) =&gt; <a href="Diagrams-Names.html#t:Subdiagram">Subdiagram</a> b v m -&gt; v -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.6.0.1/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Points.html#t:Point">Point</a> v)<a href="src/Diagrams-Trace.html#boundaryFromMay" class="link">Source</a></p><div class="doc"><p>Compute the furthest point on the boundary of a subdiagram,
   beginning from the location (local origin) of the subdiagram and
   moving in the direction of the given vector, or <code>Nothing</code> if
   there is no such point.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>